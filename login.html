<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login - StayWorld</title>
  <link rel="stylesheet" href="style.css" />
  <!-- 페이지 레이아웃 보정 + Google 버튼 가시성 -->
  <style>
    .auth-wrap{
      min-height:calc(100vh - 72px - 80px);
      display:flex;align-items:center;justify-content:center;
      padding:40px 16px;
    }
    .auth-card{
      width:100%;max-width:480px;
      background:#0f1420;border:1px solid rgba(255,255,255,.08);
      border-radius:16px;padding:24px;
      box-shadow:0 8px 30px rgba(0,0,0,.25);
    }
    .auth-card h1{margin:6px 0 18px}
    .auth-card label{display:block;margin:12px 0 6px;opacity:.9}
    .auth-actions{margin-top:16px;display:flex;flex-direction:column;gap:10px}
    /* Google 버튼(밝게) */
    #btnGoogle{
      display:flex;align-items:center;justify-content:center;gap:10px;
      width:100%;background:#ffffff;color:#111;
      border:1px solid rgba(0,0,0,.15);border-radius:12px;
      padding:12px 14px;font-weight:700;cursor:pointer;
    }
    #btnGoogle:hover{filter:brightness(0.97)}
    .or{display:flex;align-items:center;gap:10px;margin:18px 0;opacity:.7}
    .or::before,.or::after{content:"";flex:1;height:1px;background:rgba(255,255,255,.12)}
  </style>
</head>
<body>
  <!-- HEADER (index와 동일한 구조 + i18n) -->
  <header class="site-header">
    <div class="container header-row">
      <a href="/" class="brand">
        <img src="/stayworld-logo.png" alt="StayWorld" class="brand-logo" />
        <span class="brand-text">STAYWORLD</span>
      </a>

      <nav class="main-nav" aria-label="Primary">
        <a href="index.html" data-i18n="nav_home">Home</a>
        <a href="membership.html" data-i18n="nav_membership">Membership</a>
        <a href="login.html" id="navAuthLink" data-i18n="nav_login">Login</a>
      </nav>

      <div class="header-cta">
        <label for="lang" class="lang-label" data-i18n="language">Language</label>
        <select id="lang" class="lang-select">
          <option value="EN" selected>EN</option>
          <option value="KO">KO</option>
          <option value="JA">JA</option>
          <option value="ZH">ZH</option>
          <option value="FR">FR</option>
          <option value="ES">ES</option>
          <option value="DE">DE</option>
          <option value="TR">TR</option>
          <option value="AR">AR</option>
          <option value="RU">RU</option>
        </select>
        <a href="signup.html" class="btn btn-gold" data-i18n="nav_signup">Sign Up</a>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="auth-wrap">
    <div class="auth-card">
      <h1 data-i18n="nav_login">Login</h1>

      <form id="loginForm" novalidate>
        <label for="loginEmail" data-i18n="email">Email</label>
        <input type="email" id="loginEmail" required class="input" placeholder="you@example.com" />

        <label for="loginPassword" data-i18n="password">Password</label>
        <input type="password" id="loginPassword" required class="input" placeholder="********" />

        <div class="auth-actions">
          <button type="submit" class="btn btn-gold" data-i18n="nav_login">Login</button>
        </div>
      </form>

      <div class="or" aria-hidden="true">OR</div>

      <button id="btnGoogle" class="btn btn-chip" type="button" data-i18n="signin_google">
        <!-- 아이콘 없어도 잘 보이도록 텍스트만 -->
        Sign in with Google
      </button>

      <p style="margin-top:18px;">
        <span data-i18n="have_account_q">Don’t have an account?</span>
        <a href="signup.html" data-i18n="nav_signup">Sign Up</a>
      </p>
    </div>
  </main>

  <!-- 하단 스크립트: 다국어 & 로그인 상태 토글 & 로그인 로직 -->
  <script src="i18n.js"></script>
  <script type="module" src="/assets/login.js"></script>

  <!-- 현재 페이지에서 로그인/로그아웃 링크 즉시 반영 (데모) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const link = document.getElementById('navAuthLink');
      function toLoginUI(){
        link.setAttribute('data-i18n','nav_login');
        link.textContent='Login';
        link.href='login.html';
        link.onclick=null;
        window.applyI18NPage?.();
      }
      function toLogoutUI(){
        link.setAttribute('data-i18n','nav_logout');
        link.textContent='Logout';
        link.href='#';
        link.onclick=(e)=>{
          e.preventDefault();
          localStorage.removeItem('sw_logged_in');
          alert('로그아웃 되었습니다.');
          toLoginUI();
          location.reload();
        };
        window.applyI18NPage?.();
      }
      if(localStorage.getItem('sw_logged_in')==='true') toLogoutUI(); else toLoginUI();
    });
  </script>
  <script type="module" src="/assets/login.js"></script>
</body>
</html>
